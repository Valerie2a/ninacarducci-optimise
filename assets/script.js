import{galleryData as e}from"./galleryData.js";document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".carousel-slide"),l=t.querySelectorAll("img"),a=document.querySelector(".carousel-btn.prev"),s=document.querySelector(".carousel-btn.next"),r=document.querySelector(".carousel-dots"),i=0;function n(e){r.innerHTML="";for(let t=0;t<e;t++){let l=document.createElement("span");l.classList.add("carousel-dot"),0===t&&l.classList.add("active"),l.addEventListener("click",()=>{i=t,d()}),r.appendChild(l)}}function d(){t.style.transform=`translateX(-${100*i}%)`,r.querySelectorAll(".carousel-dot").forEach((e,t)=>{e.classList.toggle("active",t===i)})}s.addEventListener("click",()=>{i=(i+1)%l.length,d()}),a.addEventListener("click",()=>{i=(i-1+l.length)%l.length,d()}),n(l.length),d(),setInterval(()=>{i=(i+1)%l.length,d()},5e3);let c=document.querySelector(".gallery"),o=document.querySelectorAll(".filter-buttons button"),g=[],y=0;function L(){g=Array.from(document.querySelectorAll(".gallery-item:not(.hidden)"))}e.forEach(e=>{let t=document.createElement("img");t.classList.add("gallery-item"),t.src=e.src,t.alt=e.alt,t.dataset.galleryTag=e.tag,t.loading="lazy",t.tabIndex=0,c.appendChild(t)}),c.classList.add("visible"),L(),o.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.tag;o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),document.querySelectorAll(".gallery-item").forEach(e=>{let l=e.dataset.galleryTag;"all"===t||l===t?e.classList.remove("hidden"):e.classList.add("hidden")}),L()})});let h=document.getElementById("lightbox"),u=h.querySelector(".lightbox-img"),v=h.querySelector(".lightbox-prev"),E=h.querySelector(".lightbox-next"),f=h.querySelector(".lightbox-close");function m(e){if(0===g.length)return;e<0&&(e=g.length-1),e>=g.length&&(e=0),y=e;let t=g[e];u.src=t.src,u.alt=t.alt,h.classList.remove("hidden"),document.body.classList.add("lightbox-open")}function b(){h.classList.add("hidden"),document.body.classList.remove("lightbox-open")}c.addEventListener("click",e=>{if(e.target.classList.contains("gallery-item")){L();let t=g.indexOf(e.target);m(t)}}),c.addEventListener("keydown",e=>{if("Enter"===e.key&&e.target.classList.contains("gallery-item")){L();let t=g.indexOf(e.target);m(t)}}),v.addEventListener("click",()=>{m(y-1)}),E.addEventListener("click",()=>{m(y+1)}),f.addEventListener("click",b),document.addEventListener("keydown",e=>{h.classList.contains("hidden")||("Escape"===e.key?(h.classList.add("hidden"),document.body.classList.remove("lightbox-open")):"ArrowLeft"===e.key?m(y-1):"ArrowRight"===e.key&&m(y+1))}),h.addEventListener("click",e=>{e.target===h&&(h.classList.add("hidden"),document.body.classList.remove("lightbox-open"))})});